# 在线教育平台(OEP)测试需求文档

**项目名称** | 在线教育平台（Online Education Platform）
---|---
**项目简称** | OEP
**文档版本** | 1.0
**最后更新** | 2026年2月25日
**文档类型** | 测试需求分析与计划

---

## 目录

1. [测试概述](#测试概述)
2. [测试范围和目标](#测试范围和目标)
3. [功能测试需求](#功能测试需求)
4. [非功能测试需求](#非功能测试需求)
5. [测试策略与方法](#测试策略与方法)
6. [测试环境与工具](#测试环境与工具)
7. [测试用例设计](#测试用例设计)
8. [测试执行计划](#测试执行计划)
9. [缺陷管理](#缺陷管理)
10. [测试资源与预算](#测试资源与预算)

---

## 测试概述

### 1.1 项目背景

在线教育平台（OEP）是一个中高级的在线教学与学习管理系统，支持教师、学生和管理员三类用户。系统包含课程管理、题库管理、在线考试、作业系统等核心功能。

### 1.2 测试目的

- **确保系统功能完整性**：验证所有需求功能正确实现
- **提升系统质量**：发现并修复缺陷，降低风险
- **验证性能指标**：确保系统在预期负载下正常运行
- **检验安全性**：防止SQL注入、XSS、越权等安全漏洞
- **提供质量基线**：为系统交付提供质量保证

### 1.3 测试范围

**包含范围：**
- 后端API接口（9个Controller、9个Service模块）
- 前端用户界面（学生、教师、管理员三个端，共17个视图）
- 数据库操作（32个数据表）
- 真实业务流程（课程学习、在线考试、作业批改等）

**不包含范围：**
- 第三方库的测试（假设已充分测试）
- 浏览器兼容性测试（由前端框架保证）
- 实时视频直播功能（未实现）
- 移动原生应用（未开发）

---

## 测试范围和目标

### 2.1 功能测试范围

| 模块 | 主要功能 | 测试优先级 | 预期覆盖率 |
|------|--------|----------|----------|
| **用户认证** | 登录、登出、权限检验 | P0（关键） | 100% |
| **课程管理** | 创建、编辑、发布课程 | P0（关键） | 95% |
| **题库管理** | 创建题目、分类、导入导出 | P1（重要） | 90% |
| **考试系统** | 自动组卷、答题、评分、批改 | P0（关键） | 95% |
| **作业系统** | 发布、提交、批改、成绩 | P0（关键） | 95% |
| **通知系统** | 发布通知、查看消息 | P2（一般） | 80% |
| **数据统计** | 成绩统计、学习进度分析 | P1（重要） | 85% |
| **系统管理** | 用户管理、日志查询 | P1（重要） | 90% |
| **文件管理** | 上传、下载、存储 | P1（重要） | 90% |

### 2.2 各层次测试目标

| 测试类型 | 目标 | 门禁标准 |
|---------|------|--------|
| **单元测试** | 测试单个方法和类的功能 | 代码覆盖率 ≥ 80% |
| **集成测试** | 测试模块间的交互和数据流 | 关键路径覆盖 100% |
| **功能测试** | 验证系统功能是否符合需求 | 通过率 ≥ 95% |
| **性能测试** | 验证系统性能指标 | 响应时间 < 500ms |
| **安全测试** | 检验安全漏洞 | 0个高危/中危缺陷 |
| **用户界面测试** | 验证界面可用性 | 无交互异常 |

---

## 功能测试需求

### 3.1 用户认证模块测试

#### 3.1.1 正常场景

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_AUTH_001 | 学生成功登录 | 系统正常，用户存在 | 1.输入学号<br>2.输入正确密码<br>3.点击登录 | 登录成功，跳转至学生首页 | P0 |
| TC_AUTH_002 | 教师成功登录 | 系统正常，用户存在 | 1.输入工号<br>2.输入正确密码<br>3.点击登录 | 登录成功，跳转至教师首页 | P0 |
| TC_AUTH_003 | 管理员成功登录 | 系统正常，用户存在 | 1.输入管理员ID<br>2.输入正确密码<br>3.点击登录 | 登录成功，跳转至管理员首页 | P0 |
| TC_AUTH_004 | 记住登录状态 | 用户已登录 | 点击登出后重新访问首页 | 需要重新登录（Token已清除） | P1 |

#### 3.1.2 异常场景

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_AUTH_005 | 用户名不存在 | 系统正常 | 1.输入不存在的用户ID<br>2.输入任意密码<br>3.点击登录 | 显示"用户名或密码错误" | P0 |
| TC_AUTH_006 | 密码错误 | 系统正常，用户存在 | 1.输入正确用户ID<br>2.输入错误密码<br>3.点击登录 | 显示"用户名或密码错误" | P0 |
| TC_AUTH_007 | 用户被禁用 | 该用户状态为禁用 | 1.输入被禁用用户的ID<br>2.输入正确密码<br>3.点击登录 | 显示"该用户已被禁用" | P0 |
| TC_AUTH_008 | 空用户名 | 系统正常 | 1.不输入用户名<br>2.输入密码<br>3.点击登录 | 显示"请输入用户名" | P1 |
| TC_AUTH_009 | 空密码 | 系统正常 | 1.输入用户名<br>2.不输入密码<br>3.点击登录 | 显示"请输入密码" | P1 |
| TC_AUTH_010 | 密码暴力破解防护 | 系统正常 | 连续5次输入错误密码 | 显示"账户已锁定，请30min后重试" | P0 |

#### 3.1.3 权限验证

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_AUTH_011 | 学生无法访问教师功能 | 学生已登录 | 直接访问/teacher URL | 重定向至学生首页或显示无权限 | P0 |
| TC_AUTH_012 | 教师无法访问管理功能 | 教师已登录 | 直接访问/admin URL | 重定向至教师首页或显示无权限 | P0 |
| TC_AUTH_013 | 未登录用户无法访问受保护资源 | 未登录或Token过期 | 访问需要认证的API | 返回401 Unauthorized | P0 |

### 3.2 课程管理模块测试

#### 3.2.1 课程创建与编辑

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_COURSE_001 | 教师创建新课程 | 教师已登录 | 1.点击创建课程<br>2.输入课程名称、描述、选择部门<br>3.上传封面<br>4.点击发布 | 课程创建成功，进入待审批状态 | P0 |
| TC_COURSE_002 | 创建课程必填项验证 | 教师已登录 | 1.不输入课程名称<br>2.点击发布 | 显示"请输入课程名称" | P0 |
| TC_COURSE_003 | 课程名称重复检查 | 存在同名课程 | 1.输入已存在的课程名<br>2.点击发布 | 显示"课程名称已存在" | P1 |
| TC_COURSE_004 | 编辑课程信息 | 教师拥有该课程 | 1.进入课程详情<br>2.点击编辑<br>3.修改信息<br>4.保存 | 课程信息更新成功 | P0 |
| TC_COURSE_005 | 封面上传大小限制 | 教师已登录 | 上传>10MB的图片文件 | 显示"文件过大，请上传10MB以内的文件" | P1 |

#### 3.2.2 班级与学生管理

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_COURSE_006 | 添加班级到课程 | 教师拥有课程 | 1.进入班级管理<br>2.点击添加班级<br>3.选择班级<br>4.确认 | 班级成功关联到课程 | P0 |
| TC_COURSE_007 | 批量导入学生 | 教师拥有课程，班级存在 | 1.下载学生导入模板<br>2.填写学号和姓名<br>3.上传文件 | 学生成功导入，显示导入统计 | P1 |
| TC_COURSE_008 | 导入文件格式验证 | 教师拥有课程 | 上传非Excel格式的文件 | 显示"请上传Excel格式的文件" | P1 |
| TC_COURSE_009 | 移除班级学生 | 班级中存在学生 | 1.进入班级学生列表<br>2.选择学生<br>3.点击删除 | 学生从班级移除 | P1 |

### 3.3 题库与题目测试

#### 3.3.1 题目创建

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_QUESTION_001 | 创建单选题 | 教师已登录 | 1.选择题目类型：单选<br>2.输入题目内容和选项<br>3.选择标准答案<br>4.设置难度<br>5.保存 | 单选题创建成功 | P0 |
| TC_QUESTION_002 | 创建多选题 | 教师已登录 | 1.选择题目类型：多选<br>2.输入题目内容和选项<br>3.选择标准答案（可多选）<br>4.保存 | 多选题创建成功 | P0 |
| TC_QUESTION_003 | 创建填空题 | 教师已登录 | 1.选择题目类型：填空<br>2.输入题目内容和标准答案<br>3.设置匹配方式<br>4.保存 | 填空题创建成功 | P0 |
| TC_QUESTION_004 | 创建简答题 | 教师已登录 | 1.选择题目类型：简答<br>2.输入题目内容和参考答案<br>3.保存 | 简答题创建成功 | P0 |
| TC_QUESTION_005 | 题目内容必填验证 | 教师已登录 | 不输入题目内容直接保存 | 显示"请输入题目内容" | P1 |
| TC_QUESTION_006 | 题目难度设置 | 教师已登录 | 创建题目时选择难度：简单、中等、困难 | 题目难度保存正确 | P1 |

#### 3.3.2 题库分类与搜索

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_QUESTION_007 | 创建题库分类 | 教师已登录 | 1.右键点击分类<br>2.选择新建分类<br>3.输入分类名<br>4.确认 | 分类创建成功 | P1 |
| TC_QUESTION_008 | 删除空分类 | 分类中无题目 | 右键点击分类→删除 | 分类删除成功 | P1 |
| TC_QUESTION_009 | 搜索题目 | 题库中存在多道题目 | 1.在搜索框输入关键词<br>2.点击搜索 | 显示包含该关键词的题目列表 | P1 |
| TC_QUESTION_010 | 按难度筛选题目 | 题库中有不同难度题目 | 选择难度筛选器→中等 | 只显示难度为"中等"的题目 | P1 |

#### 3.3.3 题目导入导出

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_QUESTION_011 | 导出题库 | 题库中有题目 | 1.选择分类<br>2.点击导出<br>3.选择格式（Excel）<br>4.下载 | 文件成功下载 | P1 |
| TC_QUESTION_012 | 导入题目 | 有准备好的Excel文件 | 1.点击导入<br>2.选择文件<br>3.点击导入 | 题目成功导入，显示统计信息 | P1 |
| TC_QUESTION_013 | 导入文件格式校验 | 上传格式错误的文件 | 上传内容格式不符的Excel | 显示"文件格式错误，请参考模板" | P1 |

### 3.4 考试系统测试

#### 3.4.1 自动组卷

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_EXAM_001 | 自动组卷基本功能 | 题库中有充足题目 | 1.选择自动组卷<br>2.设置总分100、题数20<br>3.生成试卷 | 试卷成功生成，包含20道题 | P0 |
| TC_EXAM_002 | 难度分布验证 | 自动组卷时指定难度分布 | 设置30%简单、50%中等、20%困难 | 生成的题目难度分布符合比例 | P0 |
| TC_EXAM_003 | 题型分布验证 | 自动组卷时指定题型分布 | 设置单选40%、多选30%等 | 生成的题目题型分布符合要求 | P0 |
| TC_EXAM_004 | 题库题目不足处理 | 题库题目数量少于要求 | 尝试生成题数大于题库题数的试卷 | 显示"题目不足，请减少题目数量" | P1 |

#### 3.4.2 试卷发布与考试

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_EXAM_005 | 发布考试 | 试卷已创建 | 1.选择试卷<br>2.点击发布<br>3.选择班级和时间<br>4.确认发布 | 考试发布成功，首页显示该考试 | P0 |
| TC_EXAM_006 | 考试时间限制 | 考试未开始 | 在考试开始前尝试参加考试 | 显示"考试暂未开始" | P0 |
| TC_EXAM_007 | 学生进入考试 | 考试进行中，学生属于该班级 | 点击进入该课程的考试 | 成功进入答题界面，显示个人随机试卷 | P0 |
| TC_EXAM_008 | 学生参加限制验证 | 学生已参加过该考试 | 再次尝试进入该考试 | 显示"您已参加过该考试" 或 显示已有答卷 | P1 |

#### 3.4.3 在线答题

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_EXAM_009 | 倒计时显示 | 学生在答题界面 | 观察时间倒计时 | 时间实时倒计时，精度±1秒 | P1 |
| TC_EXAM_010 | 自动保存答案 | 学生答题中网络正常 | 答题后30秒不操作 | 页面底部显示"已自动保存" | P0 |
| TC_EXAM_011 | 网络中断恢复 | 学生答题中 | 拔掉网线→重新连接 | 连接后可继续答题，答案保留 | P0 |
| TC_EXAM_012 | 单选题答题 | 学生在答题界面 | 1.浏览题目<br>2.点击选项<br>3.点击下一题 | 选择正确保存，能看到选中效果 | P1 |
| TC_EXAM_013 | 多选题答题 | 学生在答题界面 | 1.题目显示多选<br>2.选择多个选项 | 能同时选中多个选项，显示正确 | P1 |
| TC_EXAM_014 | 填空题答题 | 学生在答题界面 | 1.进入填空题<br>2.输入答案<br>3.切换题目 | 答案保存，能正确显示 | P1 |

#### 3.4.4 试卷提交与评分

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_EXAM_015 | 提交试卷 | 学生完成答题 | 1.点击提交试卷<br>2.确认提交<br>3.系统处理 | 试卷提交成功，显示初步成绩 | P0 |
| TC_EXAM_016 | 客观题自动评分 | 试卷已提交 | 查看成绩页面 | 客观题自动评分正确，主观题显示待批 | P0 |
| TC_EXAM_017 | 成绩计算准确性 | 试卷提交，答案已判 | 验证总分是否等于各题得分之和 | 总分 = 各题得分之和 | P0 |
| TC_EXAM_018 | 时间到自动收卷 | 考试进行到最后1分钟 | 在最后截止时间到达不操作 | 系统自动收卷，答卷状态变为已提交 | P0 |

#### 3.4.5 教师批改

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_EXAM_019 | 进入批改界面 | 考试已有学生提交 | 1.进入该考试<br>2.点击开始批改 | 显示学生列表和该学生的答卷 | P0 |
| TC_EXAM_020 | 批改简答题 | 界面显示简答题 | 1.输入分数(0-满分)<br>2.输入评语<br>3.提交 | 分数和评语保存，显示确认 | P0 |
| TC_EXAM_021 | 批改进度提示 | 多个学生答卷 | 批改中显示进度 | 显示"已批改X份，共Y份" | P1 |
| TC_EXAM_022 | 成绩统计 | 考试批改完成 | 点击成绩统计按钮 | 显示平均分、及格率等统计信息 | P1 |

### 3.5 作业系统测试

#### 3.5.1 作业发布

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_TASK_001 | 创建作业 | 教师已登录，题库有题目 | 1.点击创建作业<br>2.输入作业信息<br>3.添加题目<br>4.保存 | 作业创建成功，进入草稿状态 | P0 |
| TC_TASK_002 | 发布作业 | 作业已创建 | 1.进入作业详情<br>2.点击发布<br>3.选择班级和截止时间<br>4.确认 | 作业发布成功，学生可见 | P0 |
| TC_TASK_003 | 作业信息必填验证 | 教师已登录 | 不输入作业名称直接保存 | 显示"请输入作业名称" | P1 |

#### 3.5.2 学生提交作业

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_TASK_004 | 学生查看作业 | 作业已发布到该班级 | 进入课程→作业列表 | 显示已发布的作业 | P0 |
| TC_TASK_005 | 学生做作业 | 学生进入作业详情 | 1.答题<br>2.点击保存草稿 | 答案保存，可重新进入继续答题 | P0 |
| TC_TASK_006 | 学生提交作业 | 学生已完成答题 | 1.点击提交作业<br>2.确认提交 | 作业提交成功，状态变为已提交 | P0 |
| TC_TASK_007 | 逾期提交 | 作业截止时间已过 | 尝试提交作业 | 提交成功但显示"逾期提交" | P1 |
| TC_TASK_008 | 重新提交作业 | 作业已提交，在截止前 | 点击"重新提交"修改答案后提交 | 新版本保存，教师批改最新版本 | P1 |

#### 3.5.3 教师批改作业

| 测试ID | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
|--------|--------|---------|--------|---------|--------|
| TC_TASK_009 | 查看学生作业 | 作业已有学生提交 | 进入作业→查看提交 | 显示学生提交列表，按状态筛选可用 | P0 |
| TC_TASK_010 | 批改学生作业 | 学生作业已提交 | 1.点击学生提交的作业<br>2.给分和评语<br>3.提交批改 | 批改内容保存，学生可查看 | P0 |
| TC_TASK_011 | 作业成绩统计 | 作业批改完成 | 点击成绩统计 | 显示平均分、完成率等统计 | P1 |

---

## 非功能测试需求

### 4.1 性能测试

#### 4.1.1 响应时间

| 操作 | 预期响应时间 | 优先级 | 备注 |
|------|-----------|--------|------|
| 用户登录 | < 500ms | P0 | 包括数据库查询和密码验证 |
| 课程列表加载 | < 1000ms | P0 | 加载30个课程 |
| 进入在线答题 | < 2000ms | P1 | 包括生成随机试卷 |
| 试卷提交 | < 1000ms | P0 | 包括数据保存和评分 |
| 数据导出 | < 5000ms | P1 | 导出100条成绩记录 |
| API平均响应 | < 500ms | P0 | 95%的API请求 |

#### 4.1.2 并发性能

| 场景 | 并发用户数 | 预期结果 | 优先级 |
|------|-----------|--------|--------|
| 系统正常运行 | 100用户 | 无错误，响应时间正常 | P0 |
| 峰值负载 | 500用户 | 响应时间<2秒，不丢失数据 | P1 |
| 考试高峰期 | 1000同时答题 | 系统稳定，无掉线 | P0 |
| 文件批量上传 | 50同时上传 | 上传成功率>99% | P1 |

#### 4.1.3 容量和扩展性

| 指标 | 目标值 | 优先级 |
|------|--------|--------|
| 系统可支持学生数 | 10000+ | P1 |
| 单个课程可容纳学生数 | 1000+ | P1 |
| 题库最大题目数 | 100000+ | P2 |
| 单次考试最大参加人数 | 5000 | P1 |
| 数据库容量 | 10-15GB | P1 |

### 4.2 安全性测试

#### 4.2.1 认证和授权

| 测试项 | 具体要求 | 优先级 |
|--------|--------|--------|
| SQL注入防护 | 所有输入参数化查询，无字符串拼接 | P0 |
| XSS防护 | 用户输入进行转义，前后端都验证 | P0 |
| CSRF防护 | 敏感操作需要额外验证/Token验证 | P1 |
| 越权访问| 学生无法访问其他学生的成绩、教师功能 | P0 |
| 密码安全| 密码加密存储，支持密码重置 | P0 |
| Session安全| Token设置过期时间，定期刷新 | P0 |
| 数据加密| 敏感数据（密码、邮箱）加密存储 | P1 |

#### 4.2.2 数据保护

| 测试项 | 具体要求 | 优先级 |
|--------|--------|--------|
| 数据备份 | 每天自动备份，可恢复7天内数据 | P0 |
| 数据隐私 | 个人信息不泄露，日志记录操作人 | P0 |
| 文件安全| 上传文件类型限制，病毒扫描 | P1 |
| 日志安全| 系统日志无法被普通用户查看/删除 | P0 |

#### 4.2.3 安全扫描

| 工具 | 检查内容 | 优先级 |
|------|--------|--------|
| OWASP ZAP | 自动扫描Web漏洞 | P1 |
| SonarQube | 代码质量和安全问题 | P1 |
| 依赖检查 | 第三方库漏洞扫描(npm audit等) | P1 |
| 渗透测试 | 手工安全测试(可选) | P2 |

### 4.3 可用性测试

| 测试项 | 具体要求 | 优先级 |
|--------|--------|--------|
| 页面加载时间 | 首屏加载<3秒，DOMContentLoaded<2秒 | P1 |
| 字体显示 | 所有中文字体正确显示 | P1 |
| 色彩对比度 | 满足WCAG 2.1 AA标准 | P2 |
| 交互反馈 | 所有操作有视觉反馈（加载动画、提示等） | P1 |
| 错误提示 | 错误信息清晰，提供解决方案 | P1 |
| 导航易用性 | 用户能快速找到所需功能 | P2 |

### 4.4 兼容性测试

#### 4.4.1 浏览器兼容性

| 浏览器 | 版本 | 功能完整性 | 样式正确性 | 优先级 |
|--------|------|----------|----------|--------|
| Chrome | 90+ | 100% | 100% | P0 |
| Firefox | 88+ | 100% | 100% | P0 |
| Safari | 14+ | 100% | 100% | P1 |
| Edge | 90+ | 100% | 100% | P1 |
| IE 11 | - | 不支持 | - | 降级处理 |

#### 4.4.2 操作系统兼容

| 操作系统 | 版本 | 兼容性 | 优先级 |
|--------|------|--------|--------|
| Windows | 7/10/11 | 支持 | P0 |
| macOS | 10.15+ | 支持 | P1 |
| Linux | Ubuntu 20.04+ | 支持 | P2 |

### 4.5 可靠性测试

| 测试项 | 具体要求 | 优先级 |
|--------|--------|--------|
| 故障恢复 | 系统故障后能自动恢复，数据不丢失 | P0 |
| 断开重连 | 网络中断后重新连接，继续操作 | P0 |
| 异常处理 | 异常操作不导致系统崩溃 | P0 |
| 系统稳定性 | 连续运行7天无故障 | P1 |

---

## 测试策略与方法

### 5.1 测试阶段划分

```
┌─────────────────────────────────────────────────┐
│               V型测试模型                        │
├─────────────────────────────────────────────────┤
│                                                 │
│  需求分析          需求验证                     │
│      ↓                  ↑                        │
│  总体设计         系统测试                       │
│      ↓                  ↑                        │
│  详细设计         集成测试                       │
│      ↓                  ↑                        │
│  编码          单元测试/代码审查                 │
│                                                 │
└─────────────────────────────────────────────────┘

测试阶段时间表：

第1阶段：单元测试 (Week 1-2)
├─ 后端单元测试（Service层）
├─ 代码覆盖率目标 ≥ 80%
└─ 缺陷修复

第2阶段：集成测试 (Week 2-3)
├─ 模块间交互测试
├─ 数据库集成测试
└─ API接口测试

第3阶段：功能测试 (Week 3-5)
├─ 黑盒功能测试（9个模块）
├─ 用户场景测试
├─ 端到端业务流程测试
└─ 缺陷摸排和修复

第4阶段：系统/非功能测试 (Week 5-6)
├─ 性能测试（负载、压力、容量）
├─ 安全性测试
├─ 兼容性测试
└─ 可靠性测试

第5阶段：UAT (Week 6-7)
├─ 实际用户体验测试
├─ 业务流程验收
└─ 缺陷修复和验证

第6阶段：回归测试 (Week 7)
├─ 对所有缺陷修复进行验证
├─ 重点功能的回归测试
└─ 发布前最终检查
```

### 5.2 测试方法

#### 5.2.1 黑盒测试
- **等价类划分**：将输入划分为等价类，每个类选一个代表值测试
- **边界值分析**：测试边界值（最大值-1、最大值、最大值+1等）
- **因果图法**：分析输入输出关系，设计测试用例
- **场景测试**：优先用户实际使用场景进行测试

#### 5.2.2 白盒测试
- **语句覆盖**：执行每条语句至少一次（目标: ≥80%）
- **分支覆盖**：每个if/else分支都执行
- **循环覆盖**：循环0次、1次、多次都测试
- **路径覆盖**：覆盖所有可能的执行路径

#### 5.2.3 灰盒测试
- 了解部分系统内部结构
- 测试API接口的正常/异常场景
- 验证数据在各层的正确传递

### 5.3 缺陷分类与优先级

#### 5.3.1 按严重程度分类

| 级别 | 定义 | 示例 | P0优先 | 修复期限 |
|------|------|------|--------|---------|
| **阻止** | 功能完全不可用或导致数据丢失 | 登录失败、考试无法提交 | 是 | 立即 |
| **严重** | 主要功能不可用，无法完成任务 | 考试成绩错误、作业批改失败 | 是 | 24小时 |
| **主要** | 功能有缺陷但可以绕过完成 | 样式不正确、性能较慢 | 否 | 1周 |
| **次要** | 轻微缺陷，不影响使用 | 拼写错误、提示信息不准确 | 否 | 2周 |

#### 5.3.2 按来源分类

| 分类 | 示例 |
|------|------|
| **功能缺陷** | 功能实现不符合需求 |
| **性能缺陷** | 响应时间过长 |
| **安全缺陷** | SQL注入、权限绕过 |
| **界面缺陷** | 样式不对、布局混乱 |
| **兼容性缺陷** | 某个浏览器不支持 |

---

## 测试环境与工具

### 6.1 测试环境

#### 6.1.1 硬件环境

| 角色 | CPU | 内存 | 网络 | 操作系统 |
|------|------|------|------|--------|
| Web服务器 | 4核 | 8GB | 千兆 | Linux |
| 数据库服务器 | 4核 | 16GB | 千兆 | Linux |
| 测试客户端 | 2核+ | 4GB+ | 100M+ | Windows/Mac |

#### 6.1.2 软件环境

| 组件 | 版本 | 用途 |
|------|------|------|
| Java JDK | 8+ | 后端运行 |
| Spring Boot | 2.7.6 | 后端框架 |
| MySQL | 8.0+ | 数据存储 |
| Node.js | 16+ | 前端编译 |
| Vue | 3.4.15 | 前端框架 |

### 6.2 测试工具

#### 6.2.1 后端测试工具

| 工具 | 目的 | 说明 |
|------|------|------|
| **JUnit 5** | 单元测试 | Java单元测试框架 |
| **Mockito** | Mock对象 | 创建Mock对象进行单元测试 |
| **Spring Test** | 集成测试 | Spring框架集成测试支持 |
| **Postman** | API测试 | 手动API测试、接口文档 |
| **JMeter** | 性能测试 | 负载测试、压力测试 |
| **SonarQube** | 代码质量 | 代码扫描、覆盖率分析 |

#### 6.2.2 前端测试工具

| 工具 | 目的 | 说明 |
|------|------|------|
| **Vitest** / **Jest** | 单元测试 | Vue组件单元测试 |
| **Cypress** | E2E测试 | 端到端用户场景测试 |
| **Selenium** | 自动化测试 | 跨浏览器自动化测试 |
| **Lighthouse** | 性能审计 | 页面性能分析 |
| **Chrome DevTools** | 调试工具 | 浏览器调试、性能检查 |

#### 6.2.3 测试管理工具

| 工具 | 用途 |
|------|------|
| **TestNG** / **JUnit** | 测试用例组织和执行 |
| **Allure Report** | 测试报告生成 |
| **Jenkins** | CI/CD持续集成 |
| **GitLab CI** | 自动化执行测试 |

---

## 测试用例设计

### 7.1 用例设计示例（详细版）

#### 7.1.1 用例：在线考试完整流程

**用例ID**: TC_EXAM_FLOW_001
**用例名称**: 学生参加在线考试完整流程
**优先级**: P0（关键）
**覆盖功能**: 考试系统核心功能

**前置条件**:
1. 系统正常运行
2. 课程已创建，试卷已发布到班级
3. 学生已选修该课程
4. 考试在进行中
5. 学生网络正常

**操作步骤**:
```
1. 学生登录系统
   ↓
2. 进入课程详情
   ↓
3. 点击"考试"标签
   ↓
4. 查看考试列表
   ↓
5. 找到状态为"进行中"的考试
   ↓
6. 点击"进入考试"按钮
   ↓
7. 系统验证：
   - 学生属于该班级
   - 考试在有效时间内
   - 学生未曾参加过（如果不允许重复）
   ↓
8. 系统生成随机试卷（若有多个版本）
   ↓
9. 显示答题界面
   ↓
10. 学生开始答题
    10.1 逐题答题
    10.2 系统每30秒自动保存
    10.3 学生根据题型选择或输入答案
   ↓
11. 检查倒计时
   ↓
12. 学生完成答题，点击"提交试卷"
   ↓
13. 系统显示确认对话框
   ↓
14. 学生确认提交
   ↓
15. 系统处理答卷：
    - 保存所有答题记录
    - 自动评分客观题
    - 计算总分
   ↓
16. 显示成绩页面（初步成绩）
   ↓
17. 学生可查看答案和得分
```

**预期结果**:
- 试卷正确提交
- 客观题自动评分准确
- 初步成绩正确显示
- 学生后续可查看详细反馈

**异常场景**:
1. 网络中断：答案已保存，重连后可继续
2. 浏览器崩溃：重新打开后可继续答题
3. 时间到：自动收卷
4. 误操作提交：提示不可撤销

**相关业务规则**:
- 不同学生的试卷题目可能顺序不同
- 客观题（单选、多选、判断、填空）自动评分
- 简答题由教师手工评分
- 倒计时精度±1秒

---

## 测试执行计划

### 8.1 测试日期与时程

```
项目周期：7周
测试周期：4-5周

Week 1：单元测试与集成测试
├─ Day 1-2: 单元测试用例设计与编写
├─ Day 3-4: 执行单元测试，代码覆盖率分析
├─ Day 5: 代码覆盖率达到目标，缺陷修复
└─ 周末: API集成测试准备

Week 2：集成与系统测试
├─ Day 1-3: 集成测试执行（模块间交互）
├─ Day 4-5: 功能测试开始（黑盒）
└─ 周末: 缺陷摸排

Week 3-4：功能与性能测试
├─ Day 1-5(W3): 功能测试（9个模块）
├─ Day 1-5(W4): 性能测试、安全测试
├─ 并行: 缺陷修复与回归
└─ 实时: 日报告、周汇总

Week 5：系统测试与UAT准备
├─ Day 1-3: 兼容性测试
├─ Day 4-5: 压力测试、可靠性测试
└─ UAT环境准备

Week 6：UAT与最终验证
├─ Day 1-5: 用户验收测试
├─ 并行: 发现缺陷修复与验证
└─ 周末: 发布前检查清单

Week 7：发布准备
├─ Day 1-3: 最终回归测试
├─ Day 4: 上线前检查
└─ Day 5: 上线支持
```

### 8.2 每日测试工作量

**单元测试阶段**:
- 每日目标：完成20个单元测试用例
- 代码覆盖率：递增至80%以上

**功能测试阶段**:
- 每日目标：完成30-40个测试用例
- 缺陷摸排：每日登记发现的缺陷

**性能测试阶段**:
- 每日运行一次性能测试
- 监控关键指标

---

## 缺陷管理

### 9.1 缺陷生命周期

```
┌─────────┐
│ 1.新建  │ 测试人员发现缺陷，提交到缺陷库
└────┬────┘
     │
     ▼
┌─────────────┐
│ 2.指派开发  │ 项目经理分配给开发人员
└────┬────────┘
     │
     ▼
┌──────────┐
│ 3.开发中  │ 开发人员修复缺陷
└────┬─────┘
     │
     ▼
┌──────────┐
│ 4.待验证  │ 提交测试进行验证
└────┬─────┘
     │
  ┌──┴──┐
  │     │
  ▼     ▼
┌──────┐ ┌──────────┐
│验证通过│ │验证失败  │
└──┬────┘ └────┬─────┘
  │            │
  ▼            ▼
┌──────────┐  ┌──────────┐
│ 5.已关闭  │  │ 重新指派  │
└──────────┘  └─────┬────┘
                   │
                   └──→ (回到步骤3)
```

### 9.2 缺陷报告模板

```
【缺陷ID】 BUG-001
【缺陷标题】 登录失败提示信息不清晰
【优先级】 P1（主要）
【严重程度】 主要
【发现日期】 2026-02-20
【报告人】 张三（测试工程师）

【环境信息】
操作系统: Windows 10
浏览器: Chrome 95
服务器环境: 测试环境

【复现步骤】
1. 打开登录页面
2. 输入正确用户ID
3. 输入错误密码
4. 点击登录

【预期结果】
显示"用户名或密码错误"的提示信息

【实际结果】
显示通用错误"请求失败，请稍后重试"

【附件】
- 截图: login_error.png
- 控制台错误: error_log.txt

【备注】
该提示对用户不友好，妨碍用户判断问题原因

【状态】 新建
【指派给】 李明
【完成日期】 -
```

### 9.3 缺陷统计与追踪

**每日缺陷统计表**:
```
日期     新增  解决  验证通过  验证失败  已关闭  待验证  开口数
─────────────────────────────────────────────────────────
2026-02-15  5    0     0       0        0      5     5
2026-02-16  8    2     1       0        2      10    10
2026-02-17  6    3     2       1        3      12    12
2026-02-18  4    4     2       1        2      15    15
...
```

**缺陷优先级分布目标**:
- P0（阻止）：发现立即修复
- P1（严重）：24小时内修复
- P2（主要）：1周内修复
- P3（次要）：2周内修复

---

## 测试资源与预算

### 10.1 测试人员配置

| 角色 | 数量 | 职责 | 要求 |
|------|------|------|------|
| 测试主管 | 1人 | 测试计划制定、资源配置、风险管理 | 5年+测试经验 |
| 高级测试工程师 | 2人 | 测试设计、工具建设、技术指导 | 3年+测试经验 |
| 测试工程师 | 3人 | 用例设计执行、缺陷追踪 | 1年+测试经验 |
| 自动化测试工程师 | 1人 | 自动化脚本编写、CI/CD集成 | 2年+自动化经验 |

### 10.2 测试环境成本

| 项目 | 数量 | 单价 | 小计 |
|------|------|------|------|
| 测试服务器 | 2台 | ¥5000 | ¥10000 |
| 数据库服务器 | 1台 | ¥8000 | ¥8000 |
| 网络配置 | 1套 | ¥3000 | ¥3000 |
| **总计** |  |  | **¥21000** |

### 10.3 测试工具成本

| 工具 | 类别 | 价格 | 说明 |
|------|------|------|------|
| JMeter | 开源免费 | ¥0 | 性能测试 |
| Postman | 免费版 | ¥0 | API测试 |
| SonarQube | 开源免费 | ¥0 | 代码质量 |
| Jenkins | 开源免费 | ¥0 | CI/CD |
| Cypress | 开源免费 | ¥0 | E2E测试 |
| **商用工具(可选)** |  |  |  |
| LoadRunner | 商用 | ¥50000/年 | 企业级性能测试(可选) |
| **总计** |  | **¥0** | 开源方案完全可满足需求 |

---

## 附录

### A. 测试用例命名规范

**格式**: `TC_[模块简称]_[序列号]`

**模块简称**:
- AUTH: 用户认证
- COURSE: 课程管理
- QUESTION: 题库与题目
- EXAM: 考试系统
- TASK: 作业系统
- NOTICE: 通知系统
- STAT: 数据统计
- ADMIN: 系统管理
- FILE: 文件管理

**示例**: `TC_EXAM_015` 表示考试模块的第15个测试用例

### B. 缺陷优先级判定表

```
         功能完整性
         │    ↓
         │  完全不可用 → 主要功能不可用 → 轻微缺陷 → 无功能影响
         │
影响范围  ├─ 全部用户 → 阻止级(P0) → 严重级(P1) → 主要级(P2)
         ├─ 部分用户 → 严重级(P1) → 主要级(P2) → 次要级(P3)
         └─ 个别用户 → 主要级(P2) → 次要级(P3) → 次要级(P3)
```

### C. 测试工作量估算

**单元测试**: 40个测试用例 × 0.5小时 = 20小时
**集成测试**: 20个测试用例 × 1小时 = 20小时
**功能测试**: 150个测试用例 × 0.5小时 = 75小时
**性能测试**: 10个场景 × 4小时 = 40小时
**安全测试**: 8个检查项 × 2小时 = 16小时
**兼容性测试**: 4个浏览器 × 3小时 = 12小时
**回归测试**: 20个用例 × 0.5小时 = 10小时

**总计**: 约193小时 ≈ 5人×4周（按每周40小时工作时间）

### D. 发布前检查清单

```
□ 所有P0/P1缺陷已修复并验证通过
□ 代码覆盖率达到≥80%
□ 性能测试通过（响应时间<500ms）
□ 安全测试无高危漏洞
□ 兼容性测试通过（主流浏览器）
□ 数据备份验证
□ 配置清单更新
□ 文档完整（API、部署、运维）
□ 用户手册完成
□ UAT报告已签字
□ 发布回滚方案已准备
□ 上线支持人员已部署
```

---

**文档发布日期：** 2026年2月25日
**版本：** 1.0
**状态：** 完成

---
